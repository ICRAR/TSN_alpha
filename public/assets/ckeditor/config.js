/*
Copyright (c) 2003-2011, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/
CKEDITOR.editorConfig=function(t){t.filebrowserBrowseUrl="/ckeditor/attachment_files",t.filebrowserFlashBrowseUrl="/ckeditor/attachment_files",t.filebrowserFlashUploadUrl="/ckeditor/attachment_files",t.filebrowserImageBrowseLinkUrl="/ckeditor/pictures",t.filebrowserImageBrowseUrl="/ckeditor/pictures",t.filebrowserImageUploadUrl="/ckeditor/pictures",t.filebrowserUploadUrl="/ckeditor/attachment_files",t.filebrowserParams=function(){for(var t,e,n,i=document.getElementsByTagName("meta"),r=new Object,a=0;a<i.length;a++)switch(n=i[a],n.name){case"csrf-token":t=n.content;break;case"csrf-param":e=n.content;break;default:continue}return void 0!==e&&void 0!==t&&(r[e]=t),r},t.addQueryString=function(t,e){var n=[];if(!e)return t;for(var i in e)n.push(i+"="+encodeURIComponent(e[i]));return t+(t.indexOf("?")!=-1?"&":"?")+n.join("&")},CKEDITOR.on("dialogDefinition",function(e){var n,i,r=e.data.name,a=e.data.definition;CKEDITOR.tools.indexOf(["link","image","attachment","flash"],r)>-1&&(n=a.getContents("Upload")||a.getContents("upload"),i=null==n?null:n.get("upload"),i&&i.filebrowser&&i.filebrowser.params===void 0&&(i.filebrowser.params=t.filebrowserParams(),i.action=t.addQueryString(i.action,i.filebrowser.params)))})};